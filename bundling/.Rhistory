install.packages("recordr")
library(devtools)
install.packages("devtools")
install.packages("httr")
install.packages("openssl")
install.packages("httr")
install.packages("devtools")
library(devtools)
devtools::install_github('oharac/provRmd')
library(devtools)
install.packages("devtools")
library(devtools)
devtools::install_github('oharac/provRmd')
library(readr)
library(raster)
install.packages("raster")
library(raster)
library(rgdal)
install.packages("rgdal")
library(rgdal)
library(provRmd)
prov_setup()
devtools::install_github('oharac/provRmd', build_vignettes = TRUE)
install.packages("rgdal")
install.packages("rgdal", repos="http://R-Forge.R-project.org", type="source")
install.packages(‘rgdal’,repos=”http://www.stats.ox.ac.uk/pub/RWin“)
install.packages('rgdal',repos="http://www.stats.ox.ac.uk/pub/RWin")
prov_setup()
knitr::opts_chunk$set(fig.width = 6, fig.height = 6)
prov_setup()
library(tidyverse)
install.packages("tidyverse")
install.packages("tidyverse")
library(provRmd)
prov_setup()
prov_setup(runtag="standard")
prov_setup(run tag="standard")
prov_setup(run_tag="standard")
devtools::install_github("nceas/recordr")
library(recordr)
rc <- new("Recordr")
record(rc, system.file("extdata/EmCoverage.R", package="recordr"), tag="first run")
listRuns(rc)
viewRuns(rc)
record(rc, system.file("/home/eunjungpark/Documents/dataone/ADC/pkg_slee/data/analysis.R", package="recordr"), tag="test run")
record(rc, system.file("/home/eunjungpark/Documents/dataone/ADC/urn_uuid_79f88c28_7c27_4d73_818c_b6dd6097a268/data/analysis.R", package="recordr"), tag="test run")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install.packages(rworldmap)
install.packages("rworldmap")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install.packages("rgdal")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
library(rgdal)
source("/Users/eunjungpark/Documents/dataone/ADC/urn_uuid_79f88c28_7c27_4d73_818c_b6dd6097a268/data/analysis.R")
source("/Users/eunjungpark/Documents/dataone/ADC/urn_uuid_79f88c28_7c27_4d73_818c_b6dd6097a268/data/analysis.R")
library(recordr)
rc <- new("Recordr")
record(rc, system.file("extdata/AOOS/hcdbSites.R", package="recordr"), tag="test")
listRuns(rc)
viewRuns(rc)
install.packages("rworldmap")
library(devtools)
install_github('AndySouth/rworldmap', build_vignettes=TRUE)
install.packages("classInt")
install_github('AndySouth/rworldmap')
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install_github('AndySouth/rworldxtra')
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install.packages("rgdal")
install.packages('rgdal', type='source')
install.packages('rgdal')
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install.packages('mapproj')
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
install.packages("rColorBrewer")
install.packages("RColorBrewer")
install.packages("RColorBrewer")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
source("/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R")
# Copy entries from "AnalysisType" column to "matrix" column only for rows with NA in matrix column
TotalAromAlk5$matrix <- as.character(TotalAromAlk5$matrix) # have to first make these columns character strings
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/gather.R')
listRuns(rc)
viewRuns(rc)
library(recordr)
rc <- new("Recordr")
record(rc, system.file("extdata/AOOS/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R", package="recordr"), tag="aoos test")
listRuns(rc)
viewRuns(rc, seq=2)
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
library("dataone")
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/wtTodone.R')
dp
outputObj1 <- new("DataPackage",
format="text/csv",
filename="/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/Total_Aromatic_Alkanes_PWS.csv")
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/wtTodone.R')
dp
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/wtTodone.R')
dp
library(arcticdatautils)
devtools::install_github("nceas/arcticdatautils"); library(arcticdatautils)
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
sp <- readOGR('/Users/eunjungpark/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/GIS','statep010')
sp
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
state
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
source('~/Documents/dataone/AOOS/urn_uuid_1d23e155_3ef5_47c6_9612_027c80855e8d/data/hcdbSites.R')
knitr::opts_chunk$set(echo = TRUE)
source("./setup.R")
library(recordr)
rc <- new("Recordr")
#record(rc, "./data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R", tag="total_pah_and_alkanes_goa_hydrocarbons_clean script1")
record(rc, "./data/hcdbSites.R", tag="hcdbsites script2")
listRuns(rc)
#viewRuns(rc, tag="script1")
viewRuns(rc, tag="script2")
source("./setup.R")
library(recordr)
rc <- new("Recordr")
record(rc, "./data/Total_PAH_and_Alkanes_GoA_Hydrocarbons_Clean.R", tag="total_pah_and_alkanes_goa_hydrocarbons_clean script1")
record(rc, "./data/hcdbSites.R", tag="hcdbsites script2")
record(rc, "./data/hcdbSites.R", tag="hcdbsites script2")
install.packages("dplyr")
install.packages("rworldmap")
install.packages("rworldxtra")
install.packages("rgdal")
install.packages("ggplot2")
getwd()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "/Users/eunjungpark/Documents/dataone/DataONE_2018_Summer_Intern_Project1/bundling/new")
library(EML)
coverage <- set_coverage(beginDate="2018-07-03", endDate="2018-07-20",
geographicDescription="Chicago",
west=-87.623177, east=-87.623177,
north=41.881832, south=41.881832)
person <- as.person("Seokki Lee <slee195@hawk.iit.edu> [cre]")
slee <- as(person, "creator")
contact <- new("contact",
individualName = slee@individualName,
electronicMail = slee@electronicMailAddress,
organizationName = "IIT", phone="000-000-0000")
pubDate <- "2018-07-03"
title <- "Bundling test for EVOS GoA"
abstract <- "test abs"
dataset <- new("dataset",
title=title,
creator=slee,
pubDate=pubDate,
abstract=abstract,
coverage=coverage,
contact=contact)
eml <- new("eml", system="uuid", dataset=dataset)
write_eml(eml, "./meta.xml")
eml_validate("./meta.xml")
eml
akMapObject=getDataObject(cli,'df35d.431.1')
cli <- D1Client("PROD", "urn:node:GOA")
library(datapack)
cli <- D1Client("PROD", "urn:node:GOA")
library(dataone)
cli <- D1Client("PROD", "urn:node:GOA")
tempFilename <- "shape.zip"
akMapObject=getDataObject(cli,'df35d.431.1')
akMapData <- getData(akMapObject)
writeBin(akMapData,"shape")
file.rename("shape",tempFilename)
unzip(tempFilename, list=FALSE)
getwd()
viewRuns(rc)
setwd("./Documents/dataone/DataONE_2018_Summer_Intern_Project1/bundling/new/")
getwd()
writeBin(akMapData,"shape")
file.rename("shape",tempFilename)
unzip(tempFilename, list=FALSE)
setdiff(list.files(), list.dirs(recursive = FALSE, full.names = FALSE))
# collect lists of files except metadata file
flists <- grep(list.files("."), pattern="\\.xml$", inv=T, value=T)
# filter out directory names
flists <- setdiff(flists, list.dirs(recursive = FALSE, full.names = FALSE))
for(o in flists) {
obj <- new("DataObject", filename=paste("./",o,sep=""))
dp <- addMember(dp, obj, metadataObj)
}
flists
# collect lists of files except metadata file
flists <- grep(list.files("."), pattern="\\.xml$", inv=T, value=T)
flists <- grep(flists, pattern="\\.zip$", inv=T, value=T)
# filter out directory names
flists <- setdiff(flists, list.dirs(recursive = FALSE, full.names = FALSE))
for(o in flists) {
obj <- new("DataObject", filename=paste("./",o,sep=""))
dp <- addMember(dp, obj, metadataObj)
}
flists
getwd()
setwd("../")
getwd()
getwd()
system("ls ./new")
prov
library(dataone)
library(datapack)
d1c <- D1Client("PROD", "urn:node:GOA")
pkg <- getDataPackage(d1c, identifier = "urn:uuid:1d23e155-3ef5-47c6-9612-027c80855e8d", lazyLoad=TRUE, limit="0MB", quiet=FALSE)
pkg
rels <- getRelationships(pkg, condense=T)
prov <- subset(rels, predicate=="prov:used" | predicate =="prov:wasDerivedFrom" | predicate=="prov:wasGeneratedBy")
provPlan <- subset(rels,predicate == "prov:hadPlan")
provAsso <- subset(rels,predicate == "prov:qualifiedAssociation")
provAsso$object <- provPlan$object[match(provAsso$object, provPlan$subject)]
indx <- match(prov$subject, provAsso$subject, nomatch = 0)
prov$subject[indx != 0] <- provAsso$object[indx]
indx <- match(prov$object, provAsso$subject, nomatch = 0)
prov$object[indx != 0] <- provAsso$object[indx]
prov <- data.frame(lapply(prov, as.character), stringsAsFactors=FALSE)
provSimp <- subset(prov, predicate=="prov:used" | predicate=="prov:wasGeneratedBy")
provSimp
provNoPred <- provSimp
provNoPred
provNoPred$predicate <- "prov:"
provNoPred
rdfSimp <- rdf()
library(rdflib)
rdfSimp <- rdf()
for (i in 1:nrow(provNoPred)) rdf_add(rdfSimp, provNoPred$object[i], provNoPred$predicate[i], provNoPred$subject[i], subjectType="uri", objectType="uri")
rdf_serialize(rdfSimp, "./results/provSimp.rdfxml")
options(rdf_print_format = "rdfxml")
rdf_serialize(rdfSimp, "../transparency/results/provTest.rdfxml")
provNoPred
provSimp
provNoPred <- provSimp
provNoPred
provNoPred$predicate <- "prov:generated"[match(provNoPred$predicate,"prov:wasGeneratedBy")]
provNoPred
provNoPred <- provSimp
provNoPred$predicate <- "prov:generated"[match(provNoPred$predicate,"prov:wasGeneratedBy", nomatch=0)]
indx <- match(provNoPred$predicate, "prov:wasGeneratedBy", nomatch = 0)
provNoPred$predicate[indx != 0] <- provNoPred$predicate
provNoPred$predicate[indx != 0] <- provNoPred$predicate[indx]
provNoPred
provNoPred$predicate[indx != 0] <- "prov:generated"
provNoPred
indx <- match(provNoPred$predicate, "prov:used", nomatch = 0)
provNoPred$predicate[indx != 0] <- "prov:wasUsedBy"
provNoPred
for (i in 1:nrow(provNoPred)) rdf_add(rdfSimp, provNoPred$object[i], provNoPred$predicate[i], provNoPred$subject[i], subjectType="uri", objectType="uri")
rdf_serialize(rdfSimp, "../transparency/results/provTest.rdfxml")
provNoPred <- data.frame(lapply(provNoPred, as.character), stringsAsFactors=FALSE)
for (i in 1:nrow(provNoPred)) rdf_add(rdfSimp, provNoPred$object[i], provNoPred$predicate[i], provNoPred$subject[i], subjectType="uri", objectType="uri")
rdf_serialize(rdfSimp, "../transparency/results/provTest.rdfxml")
options(rdf_print_format = "rdfxml")
rdf_serialize(rdfSimp, "../transparency/results/provTest.rdfxml")
rdfSimp
rdfSimp <- rdf()
for (i in 1:nrow(provNoPred)) rdf_add(rdfSimp, provNoPred$object[i], provNoPred$predicate[i], provNoPred$subject[i], subjectType="uri", objectType="uri")
rdf_serialize(rdfSimp, "../transparency/results/provTest.rdfxml")
system("rapper --output dot /Users/eunjungpark/Documents/dataone/DataONE_2018_Summer_Intern_Project1/transparency/results/provTest.rdfxml > /Users/eunjungpark/Documents/dataone/DataONE_2018_Summer_Intern_Project1/transparency/results/provTest.dot")
system("dot -Tpdf /Users/eunjungpark/Documents/dataone/DataONE_2018_Summer_Intern_Project1/transparency/results/provTest.dot > /Users/eunjungpark/Documents/dataone/DataONE_2018_Summer_Intern_Project1/transparency/results/provTest.pdf")
provNoPred
